# Manage group chats

Group chats can have metadata like names, descriptions, and images to help users identify them. You can set metadata when [creating a group chat](/agents/build-agents/create-conversations) or update it later.

:::tip[Quickstart]
To learn more, see the [Gated group example](https://github.com/ephemeraHQ/xmtp-agent-examples/tree/main/examples/xmtp-gated-group) in the xmtp-agents-examples repo.
:::

## Available metadata fields

- `group_name`: The name of the group chat
- `description`: A description of the group chat
- `image_url`: A URL pointing to an image for the group chat

## Get and update metadata

```js [Node]
// Get metadata
const groupName = group.name;
const groupDescription = group.description;
const groupImageUrl = group.imageUrl;

// Update metadata
await group.updateName('New Group Name');
await group.updateDescription('New Group Description');
await group.updateImageUrl('newurl.com');
```

## Manage group chat membership

:::tip[Quickstart]
To learn more, see the [Gated group example](https://github.com/ephemeraHQ/xmtp-agent-examples/tree/main/examples/xmtp-gated-group) in the xmtp-agents-examples repo.
:::

The maximum group chat size is 250 members.

### Add members

You can add members directly by their Ethereum addresses using `addMembersByIdentifiers`:

```js [Node]
// Add members by Ethereum address
await group.addMembersByIdentifiers([ 
  {
    identifier: "0x1234567890123456789012345678901234567890",
    identifierKind: IdentifierKind.Ethereum,
  },
  {
    identifier: "0xabcdefabcdefabcdefabcdefabcdefabcdefabcd",
    identifierKind: IdentifierKind.Ethereum,
  },
]);

// Add members using inbox IDs
await group.addMembers([inboxId]);
```

### Remove members

Remove members from the group:

```js [Node]
// Remove members by inbox ID
await group.removeMembers([inboxId]);

// Remove members by address
await conversation.removeMembersByIdentifiers([
  {
    identifier: "0x1234567890123456789012345678901234567890",
    identifierKind: IdentifierKind.Ethereum,
  },
]);
```

### Get member information

Retrieve and work with member data:

```js [Node]
// Sync group data to get latest member information
await group.sync();

// Get all members
const members = await group.members();
```

## Manage group chat admins

```js [Node]
// Check admin status
const isAdmin = group.isAdmin(inboxId);
const isSuperAdmin = group.isSuperAdmin(inboxId);

// List admins
const admins = group.admins;
const superAdmins = group.superAdmins;

// Add/remove admin status
await group.addAdmin(inboxId);
await group.addSuperAdmin(inboxId);
await group.removeAdmin(inboxId);
await group.removeSuperAdmin(inboxId);
```

## Example usage

Get detailed information about group members:

```typescript
agent.on('text', async (ctx) => {
  const members = await group.members();

  for (const member of members) {
    console.log(`Member inbox ID: ${member.inboxId}`);
    console.log(`Permission level: ${member.permissionLevel}`);
    console.log(`Consent state: ${member.consentState}`);

    // Get Ethereum address
    const ethIdentifier = member.accountIdentifiers.find(
      (id) => id.identifierKind === IdentifierKind.Ethereum
    );

    if (ethIdentifier) {
      console.log(`Ethereum address: ${ethIdentifier.identifier}`);
    }
  }
});
```
