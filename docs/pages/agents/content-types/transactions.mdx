# Support onchain transactions with your agent built with XMTP

This package provides an XMTP content type to support sending transactions to a wallet for execution.

::::tip[Quickstart]
To learn more, see the [Transactions example](https://github.com/xmtplabs/xmtp-agent-examples/tree/main/examples/xmtp-transactions) in the xmtp-agent-examples repo.
::::

The wallet send calls content type is built into the Agent SDK. No installation is required.

## Create a transaction request

With XMTP, a transaction request is represented using `wallet_sendCalls` with additional metadata for display.

```ts [Node]
const walletSendCalls: WalletSendCallsParams = {
  version: '1.0',
  from: '0x123...abc',
  chainId: '0x2105',
  calls: [
    {
      to: '0x456...def',
      value: '0x5AF3107A4000',
      metadata: {
        description: 'Send 0.0001 ETH on base to 0x456...def',
        transactionType: 'transfer',
        currency: 'ETH',
        amount: 100000000000000,
        decimals: 18,
        toAddress: '0x456...def',
      },
    },
    {
      to: '0x789...cba',
      data: '0xdead...beef',
      metadata: {
        description: 'Lend 10 USDC on base with Morpho @ 8.5% APY',
        transactionType: 'lend',
        currency: 'USDC',
        amount: 10000000,
        decimals: 6,
        platform: 'morpho',
        apy: '8.5',
      },
    },
  ],
};
```

## Send a transaction request

Once you have a transaction request, you can send it as part of your conversation:

```ts [Node]
import type { WalletSendCalls } from '@xmtp/node-sdk';

await conversation.sendWalletSendCalls(walletSendCalls);
```

## Receive a transaction request

To receive and process a transaction request:

```ts [Node]
import type { WalletSendCalls } from '@xmtp/node-sdk';

if (ctx.isWalletSendCalls()) {
  const walletSendCalls: WalletSendCalls = ctx.message.content;
  // Process the transaction request here
}
```

You are welcome to provide feedback on this implementation by commenting on [XIP-59: Trigger on-chain calls via wallet_sendCalls](https://community.xmtp.org/t/xip-59-trigger-on-chain-calls-via-wallet-sendcalls/889).
